<div class="component-title">
  <h1>5.5.5. User Microservice</h1>
  <h3>Vista De Despliegue</h3>
  <div class="line-component-title"></div>
</div>

<div class="title-separator"></div>

<h5>5.5.5.1. Latencia</h5>
<div class="subtitle-separator"></div>
<h5>5.5.5.1.1.  Modelo De Asignación</h5>

<p class="text">
  En este modelo presentamos la comunicación de los diferentes componentes con el microservicio de User, contamos con un
  resolver Apollo que dependiendo la demanda crea instancias para resolver los request solicitados. También mostramos un
  cluster de base dados no relacionales, para esto decidimos usar la tecnología de MongoDB el cual permite escalar horizontal y
  verticalmente dependiendo la demanda. La idea de este modelo es poder mantener los tiempos de respuesta cuando se presenta una
  alta recurrencia en el sistema.
</p>

<div class="subtitle-separator"></div>

<table class="table-diagrama">
  <tr>
    <th>Convenciones</th>
    <th>Diargrama - Modelo De Asignación</th>
  </tr>
  <tr>
    <td width="20%">
      <div class="img1">
        <img src="./assets/img/user/user2.png" alt="Vista De Despliegue microservicio Search" width="90%">
        <img src="./assets/img/user/user4.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
    <td width="80%">
      <div class="img1">
        <img src="./assets/img/user/user3.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
  </tr>
</table>

<div class="subtitle-separator"></div>

<h5>5.5.5.2. Disponibilidad</h5>
<div class="subtitle-separator"></div>

<h5>5.5.5.2.1.  Modelo De Asignación</h5>

<p class="text">
  Por el otro lado, se tiene un cluster de bases de datos no relacionales administradas con MongoDB con RAM Variable con
  alrededor de 1GB de almacenamiento. Estos escalan horizontal y verticalmente dependiendo de la demanda. El cluster lo va a
  proveer mLab. Como caché, se va a usar un cluster de instancias de Redis con un 1 Proxy server y un bucket size de 500MB.
  Este también escala con base en la demanda.
  <br><br>
  Como parte de la solución para enrutar y gestionar el tráfico del crecimiento horizontal tenemos Load Balancing que nos
  permite enrutar los requests de los clientes a las diferentes instancias la cual vamos a crecer a medida del volumen de
  carga al cual vamos a estar operando.
  <br><br>
  Otros dos sistemas fundamentales que llegan a hacer parte de la solución es la utilización del monitoreo continúo
  apoyados de new relic y log de eventos apoyados de Elastic Search, esto con el fin de asegurar el correcto funcionamiento
  del microservicio y sus componentes en tiempo de ejecución, estos sistemas los adicionamos para que sirvieran de apoyo en
  la identificación de la salud y el rendimiento de los recursos en ejecución.
</p>

<div class="subtitle-separator"></div>

<table class="table-diagrama">
  <tr>
    <th>Convenciones</th>
    <th>Diargrama - Modelo De Asignación</th>
  </tr>
  <tr>
    <td width="20%">
      <div class="img1">
        <img src="./assets/img/user/user2.png" alt="Vista De Despliegue microservicio Search" width="90%">
        <img src="./assets/img/user/user4.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
    <td width="80%">
      <div class="img1">
        <img src="./assets/img/user/userd2.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
  </tr>
</table>

<div class="subtitle-separator"></div>

<h5>5.5.5.3. Seguridad</h5>
<div class="subtitle-separator"></div>

<h5>5.5.5.3.1.  Modelo De Asignación</h5>

<p class="text">
  A nivel de infraestructura, los componentes pueden escalar vertical y horizontalmente ya que la cantidad de instancias aumentan dinámicamente dependiendo de la demanda y otros parámetros configurables en heroku. Las bases de datos y los caches son clusters y cada uno de los microservicios está detrás de un load balancer para balancear la demanda y favorecer la escalabilidad y la disponibilidad.
  <br><br>
  Se asigna un cluster de bases de datos no relacionales MongoDB con RAM Variable con alrededor de 1GB de almacenamiento. Estos son escalan horizontal y verticalmente dependiendo de la demanda. El cluster lo va a proveer mLab. Como caché, se va a usar un cluster de instancias de Redis con un 1 Proxy server y un bucket size de 500MB. Este también escala con base en la demanda.
  <br><br>
  los componentes de monitoreo (Apollo engine y New Relick) se incluyeron para reportar estados transaccionales y de ejecición de los microservicios. Dependiendo de los eventos se generarán alertas que indicarán una posible falla de los microservicios que afecte su disponibilidad. La asignación de estos componentes estará sujeto a un plan de pagos para los proveedores. Los planes incluyen la disponibilidad de los sistemas.
</p>

<div class="subtitle-separator"></div>

<table class="table-diagrama">
  <tr>
    <th>Convenciones</th>
    <th>Diargrama - Modelo De Asignación</th>
  </tr>
  <tr>
    <td width="20%">
      <div class="img1">
        <img src="./assets/img/user/user2.png" alt="Vista De Despliegue microservicio Search" width="90%">
        <img src="./assets/img/user/user4.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
    <td width="80%">
      <div class="img1">
        <img src="./assets/img/user/userc2.png" alt="Vista De Despliegue microservicio Search" width="90%">
      </div>
    </td>
  </tr>
</table>
